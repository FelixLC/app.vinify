(function () {
  'use strict';

  angular
      .module('WinemakerFactory', [ 'lodash' ])
      .factory('WinemakerFactory', WinemakerFactory);

  /* @ngInject */
  function WinemakerFactory ($q, _) {
    var api = {
      query: function () {
        return $q.when(
          [{"wines": [{"uuid": "3ca03d75a7a9490da65b8a47e9435377", "class_name": "wine", "product_code": "", "slug": "vin/bordeaux/picpoul-de-pinet/bois-des-oliviers-2008", "color": "Blanc", "country": "", "region": "Bordeaux", "appellation": "Picpoul de Pinet", "display_name": "Bois des oliviers", "variety": "ALEATICO", "vintage": 2008, "public_price": null, "description": "Le domaine Les Goubert nous emmène cette fois-ci à Sablet, un village au pied des Dentelles de Montmirail, à quelques kilomètres de Gigondas.", "winemaker": "6190047abfbc486096167dd14fa55f14", "svi_profile": {"id": 21, "uuid": "03cb5aa2fb7441589f1000a4ae418576", "class_name": "svi_profile", "wine": 126, "body_light": 0.0, "body_medium": 1.0, "body_strong": 0.0, "texture_light": 0.0, "texture_medium": 0.0, "texture_strong": 1.0, "nature_light": 0.0, "nature_medium": 0.0, "nature_strong": 1.0, "sweet": 0.0, "fruity": 0.0, "woody": 1.0, "spicy": 0.0, "buttery": 0.0, "mineral": 0.0, "floral": 0.0, "vegetal": 0.0, "animal": 0.0, "variety_1": "ALEATICO", "variety_2": "", "variety_3": ""}}, {"uuid": "7a43d033722948279acb6c88151258b7", "class_name": "wine", "product_code": "", "slug": "vin/bordeaux/agenais/chateau-tranchade-2011", "color": "Blanc", "country": "", "region": "Bordeaux", "appellation": "Agenais", "display_name": "Chateau Tranchade", "variety": "ALICANTE BOUSCHET", "vintage": 2011, "public_price": null, "description": "Les vins issus de cette appellation tendent à être plus fermes, une pointe plus masculins. C’est le cas de ce Sablet 2011 : un vin rustique, sans chichi. Il est à la fois fruité (fruits rouges) et épicé. Cependant, il ne dégage aucune agressivité en bouche. Sa robe d’un rouge soutenu, profonde et brillante, vous rappellera la chaleur du soleil méridional.", "winemaker": "6190047abfbc486096167dd14fa55f14", "svi_profile": {"id": 20, "uuid": "2a7ccab1cf874a14b69173b4445df33a", "class_name": "svi_profile", "wine": 125, "body_light": 0.0, "body_medium": 0.0, "body_strong": 1.0, "texture_light": 0.0, "texture_medium": 0.0, "texture_strong": 1.0, "nature_light": 0.0, "nature_medium": 0.0, "nature_strong": 1.0, "sweet": 0.0, "fruity": 1.0, "woody": 0.0, "spicy": 1.0, "buttery": 0.0, "mineral": 0.0, "floral": 0.0, "vegetal": 0.0, "animal": 0.0, "variety_1": "ALICANTE BOUSCHET", "variety_2": "ALVARINHO", "variety_3": ""}}, {"uuid": "c6dbc46d3fb848afb55f73a362b6c5a0", "class_name": "wine", "product_code": "", "slug": "vin/bordeaux/saint-veran/vin-saint-pourcain-2009", "color": "Rouge", "country": "", "region": "Bordeaux", "appellation": "Saint-V\u00e9ran", "display_name": "Vin saint Pourcain", "variety": "ABOURIOU", "vintage": 2009, "public_price": null, "description": "Les vins issus de cette appellation tendent à être plus fermes, une pointe plus masculins. C’est le cas de ce Sablet 2011 : un vin rustique, sans chichi. Il est à la fois fruité (fruits rouges) et épicé. Cependant, il ne dégage aucune agressivité en bouche. Sa robe d’un rouge soutenu, profonde et brillante, vous rappellera la chaleur du soleil méridional.", "winemaker": "6190047abfbc486096167dd14fa55f14", "svi_profile": {"id": 18, "uuid": "860a7ab3975a4daa9ae2fb23a37e5f4b", "class_name": "svi_profile", "wine": 122, "body_light": 0.0, "body_medium": 0.0, "body_strong": 1.0, "texture_light": 1.0, "texture_medium": 0.0, "texture_strong": 0.0, "nature_light": 0.0, "nature_medium": 0.0, "nature_strong": 1.0, "sweet": 1.0, "fruity": 1.0, "woody": 1.0, "spicy": 0.0, "buttery": 0.0, "mineral": 0.0, "floral": 1.0, "vegetal": 1.0, "animal": 1.0, "variety_1": "ABOURIOU", "variety_2": "ABOURIOU (GAMAY SAINT-LAURENT)", "variety_3": "ALEATICO"}}], "id": 18, "uuid": "6190047abfbc486096167dd14fa55f14", "class_name": "winemaker", "winemaker_name": "Chateaux Pomys Et Saint-Estephe", "winemaker_type": "SVI", "region": "Bordeaux", "appellation": "Saint-Est\u00e8phe", "description": "Le domaine Les Goubert nous emmène cette fois-ci à Sablet, un village au pied des Dentelles de Montmirail, à quelques kilomètres de Gigondas.", "status": 1.0, "company": null, "street": null, "street_2": null, "city": null, "zipcode": null, "country": null, "other_info": null, "phone": ""}, {"wines": [{"uuid": "be6f240909734eebaf0861ab50b00f5d", "class_name": "wine", "product_code": "", "slug": "vin/bourgogne/cevennes/chateau-de-tresque-2003", "color": "Rouge", "country": "", "region": "Bourgogne", "appellation": "C\u00e9vennes", "display_name": "Chateau de Tresque", "variety": "ALICANTE BOUSCHET", "vintage": 2003, "public_price": null, "description": "Le domaine Les Goubert nous emmène cette fois-ci à Sablet, un village au pied des Dentelles de Montmirail, à quelques kilomètres de Gigondas.", "winemaker": "912200d23d574b75a48721d459156245", "svi_profile": {"id": 22, "uuid": "617adb5d44fc40ca8623d1c7e0ba8a4c", "class_name": "svi_profile", "wine": 127, "body_light": 0.0, "body_medium": 1.0, "body_strong": 0.0, "texture_light": 1.0, "texture_medium": 0.0, "texture_strong": 0.0, "nature_light": 0.0, "nature_medium": 0.0, "nature_strong": 1.0, "sweet": 0.0, "fruity": 1.0, "woody": 1.0, "spicy": 0.0, "buttery": 0.0, "mineral": 0.0, "floral": 0.0, "vegetal": 0.0, "animal": 1.0, "variety_1": "ALICANTE BOUSCHET", "variety_2": "ARRILOBA", "variety_3": "TRESSALIER"}}, {"uuid": "ae9b3651a2b04a719584bf23829f3cfd", "class_name": "wine", "product_code": "", "slug": "vin/bourgogne/saint-pourcain/chateau-boutisse-2011", "color": "Blanc", "country": "", "region": "Bourgogne", "appellation": "Saint Pourcain", "display_name": "Chateau Boutisse", "variety": "ABOURIOU", "vintage": 2011, "public_price": null, "description": "Le domaine Les Goubert nous emmène cette fois-ci à Sablet, un village au pied des Dentelles de Montmirail, à quelques kilomètres de Gigondas. ", "winemaker": "912200d23d574b75a48721d459156245", "svi_profile": {"id": 16, "uuid": "d39ad8e89cfd46dbb37ae2f8cae0c502", "class_name": "svi_profile", "wine": 120, "body_light": 0.0, "body_medium": 0.0, "body_strong": 0.0, "texture_light": 0.0, "texture_medium": 0.0, "texture_strong": 0.0, "nature_light": 0.0, "nature_medium": 0.0, "nature_strong": 0.0, "sweet": 1.0, "fruity": 1.0, "woody": 0.0, "spicy": 1.0, "buttery": 0.0, "mineral": 1.0, "floral": 0.0, "vegetal": 1.0, "animal": 0.0, "variety_1": "ABOURIOU", "variety_2": "ABOURIOU", "variety_3": "ALICANTE BOUSCHET"}}], "id": 16, "uuid": "912200d23d574b75a48721d459156245", "class_name": "winemaker", "winemaker_name": "Domaine Hubert Metz", "winemaker_type": "SVI", "region": "Bourgogne", "appellation": "Saint Pourcain", "description": "Le domaine Les Goubert nous emmène cette fois-ci à Sablet, un village au pied des Dentelles de Montmirail, à quelques kilomètres de Gigondas. ", "status": 1.0, "company": null, "street": null, "street_2": null, "city": null, "zipcode": null, "country": null, "other_info": null, "phone": ""}, {"wines": [{"uuid": "690dbf4b877042bd907a28ec535a19e3", "class_name": "wine", "product_code": "", "slug": "vin/bourgogne/romanee-saint-vivant/chateau-barrique-2014", "color": "Ros\u00e9", "country": "", "region": "Bourgogne", "appellation": "Roman\u00e9e-Saint-Vivant", "display_name": "Chateau barrique", "variety": "VERDESSE", "vintage": 2014, "public_price": null, "description": "Le domaine Les Goubert nous emmène cette fois-ci à Sablet, un village au pied des Dentelles de Montmirail, à quelques kilomètres de Gigondas. ", "winemaker": "ef170610c6d24931a63245545c5b868a", "svi_profile": {"id": 23, "uuid": "5983160a1426423f8a889f86ff5c9a0d", "class_name": "svi_profile", "wine": 128, "body_light": 0.0, "body_medium": 0.0, "body_strong": 1.0, "texture_light": 0.0, "texture_medium": 0.0, "texture_strong": 1.0, "nature_light": 0.0, "nature_medium": 0.0, "nature_strong": 1.0, "sweet": 0.0, "fruity": 0.0, "woody": 0.0, "spicy": 0.0, "buttery": 0.0, "mineral": 0.0, "floral": 0.0, "vegetal": 0.0, "animal": 0.0, "variety_1": "VERDESSE", "variety_2": "SCIACCARELLO", "variety_3": "RAYON D'OR"}}], "id": 23, "uuid": "ef170610c6d24931a63245545c5b868a", "class_name": "winemaker", "winemaker_name": "Le Plan De L'Homme", "winemaker_type": "SVI", "region": "Bourgogne", "appellation": "Roman\u00e9e-Saint-Vivant", "description": "Le domaine Les Goubert nous emmène cette fois-ci à Sablet, un village au pied des Dentelles de Montmirail, à quelques kilomètres de Gigondas. ", "status": 1.0, "company": null, "street": null, "street_2": null, "city": null, "zipcode": null, "country": null, "other_info": null, "phone": ""}]
        );
      },
      getWinemaker: function (obj) {
        api.query().then(function (winemakers) {
          var result = _.findWhere(winemakers, { uuid: obj.uuid });
          console.log(result);
          return result;
        });
      }
    };

    return api;
  }
})();